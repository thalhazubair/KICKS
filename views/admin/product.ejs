<%- include('../partials/adminPartial.ejs') %>
  <!-- Table Start -->
  <div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div class="col-12">
            <div class="bg-secondary rounded h-100 p-4">
                <h6 class="mb-4">Product</h6>
                <div class="table-responsive">
                    <table id="tableform" class="table">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Brand</th>
                                <th scope="col">Description</th>
                                <th scope="col">Stock</th>
                                <th scope="col">Category</th>
                                <th scope="col">price</th>
                                <th scope="col">Size</th>
                                <th scope="col">Image</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% productData.forEach((data)=>{ %>
                            <tr>
                                <td><%= data.name %></td>
                                <td><%= data.brand %></td>
                                <td><%= data.description %></td>
                                <td><%= data.stock %></td>
                                <td><%= data.category %></td>
                                <td><%= data.price %></td>
                                <td><%= data.size %></td>
                                <td><img style="width:50px; height:50px" src="/admin/products/<%= data.name%>.jpg" alt=""></td>
                                <td><a href="/admin/edit?name=<%= data.name %>" class="btn btn-secondary">Edit</a></td>
                                <td><button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop-<%= data._id%>">Delete</button></td>     
                            </tr>
                            
                  <div
                  class="modal fade"
                  id="staticBackdrop-<%= data._id%>"
                  data-bs-backdrop="static"
                  data-bs-keyboard="false"
                  tabindex="-1"
                  role="dialog"
                  aria-labelledby="staticBackdropLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">
                          Delete Product
                        </h5>
                        <button
                          type="button"
                          class="close"
                          data-dismiss="modal"
                          aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body">
                        Want to delete <%= data.name %>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <a href="/admin/deleteproduct/<%= data._id %>"
                          ><button type="button" class="btn btn-primary">
                            Confirm
                          </button></a
                        >
                      </div>
                    </div>
                  </div>
                </div>
                            <%})%>
                        </tbody>
                    </table>
                    <div class="text-center mb-2">
                        <a href="/admin/addProduct" class="btn btn-secondary">Add Product</a>
                        </div>
                </div>          
            </div>
        </div>
    </div>
</div>
</div>
</div>
<!-- Table End -->
