<!DOCTYPE html>
<html lang="en-US" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>KICKS</title>


    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="/user/assets/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/user/assets/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/user/assets/img/favicons/favicon-16x16.png">
    <link rel="shortcut icon" type="image/x-icon" href="/user/assets/img/favicons/favicon.ico">
    <link rel="manifest" href="/user/assets/img/favicons/manifest.json">
    <meta name="msapplication-TileImage" content="user/assets/img/favicons/mstile-150x150.png">
    <meta name="theme-color" content="#ffffff">


    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="/user/assets/css/theme.css" rel="stylesheet">

     <!-- Css Styles -->
     <link rel="stylesheet" href="/user/assets/css/bootstrap.min.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/font-awesome.min.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/elegant-icons.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/magnific-popup.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/nice-select.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/owl.carousel.min.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/slicknav.min.css" type="text/css">
     <link rel="stylesheet" href="/user/assets/css/style.css" type="text/css">



  </head>

  <body>

    <!-- ===============================================-->
    <!--    Main Content-->
    <!-- ===============================================-->
    <main class="main" id="top">
        <div>
      <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 d-block" data-navbar-on-scroll="data-navbar-on-scroll">
        <div class="container"><a class="navbar-brand d-inline-flex" href="/"><span class="text-1000 fs-0 fw-bold ms-2">KICKS</span></a>
          <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item px-2"><a class="nav-link fw-medium" href="/shop">SHOP</a></li>
              <% allCategory.forEach((categories)=>{ %>
                <li class="nav-item px-2"><a class="nav-link fw-medium" href="#outlet"><%= categories.categories %></a></li>
                <%})%>
            </ul>
            <form class="d-flex">
              <a class="text-1000" href="/cart"><span class="badge badge-success" id="cartCount"><%= count %></span>
                <svg class="feather feather-shopping-cart me-3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
              </a>
                <a class="text-1000" href="#!">
                <svg class="feather feather-search me-3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
              </a>
                <a class="text-1000" href="/getprofile">
                <svg class="feather feather-user me-3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
              </a>
                <a class="text-1000" href="/wishlist">
                <svg class="feather feather-heart me-3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
              </a>
              <a class="text-1000" href="/logout">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
              </a>
            </form>
          </div>
        </div>
      </nav>
      <section class="">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>Wishlist</h4>
                        
                    </div>
                </div>
            </div>
        </div>
    </section>


	<section class="h-100 h-custom" style="background-color: #e4e2ea;">
		<div class="container py-5 h-100">
		  <div class="row g-0 d-flex justify-content-center align-items-center h-100">
			<div class="col-12">
			  <div class="card card-registration card-registration-2" style="border-radius: 15px;">
				<div class="card-body p-0">
				  <div class="row g-0">
					<div class="col-lg-12">
					  <div class="p-5">
						<div class="d-flex justify-content-between align-items-center mb-5">
						  <h1 class="fw-bold mb-0 text-black">My Wishlist</h1>
						</div>
						
						<% wishlistData.forEach((product)=>{ %>
						<hr class="my-4">
						<div class="row g-0 mb-4 d-flex justify-content-between align-items-center">
						  <div class="col-md-3 col-lg-3 col-sm-6">
							<img
							  src="/admin/products/<%= product.productDetail.name %>.jpg" 
							  class="img-fluid rounded-1" style="height: 80px;" alt="Cotton T-shirt">
						  </div>
						  <div class="col-md-2 col-lg-2 col-sm-3">
							<h6 class="text-muted"><%= product.productDetail.brand %></h6>
							<h6 class="text-black mb-0"><%= product.productDetail.name %></h6>
						  </div>
						  <div class="col-md-2 col-lg-2 col-sm-3">
							<h6 class="mb-0">$<%= product.productDetail.price %></h6>
						  </div>
						  <div class="col-md-2 col-lg-2 col-sm-6 text-center">
							<a><button class="btn btn-primary" onclick="return addToCartWish('<%= product.productDetail._id %>')">+ Add To Cart</button></a>
						  </div>
						  <div class="col-md-3 col-lg-3 col-sm-6 text-center">
						    <a><a href="" onclick="return removewishlistProduct('<%= product._id %>','<%= product.productDetail._id %>');"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg></a></a>
						  </div>
						</div>
						<%})%>

						<div class="pt-5">
						  <h6 class="mb-0"><a href="/shop" class="text-body"><i
								class="fas fa-long-arrow-alt-left me-2"></i>Back to shop</a></h6>
						</div>
					  </div>
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </section>


    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        function addToCartWish(proId) { 
  $.ajax({
    url: "/addcart/" + proId,
    method: "get",
    success: (response) => { 
      if (response.status) {
        let count = $("#cartCount").html();
        count = parseInt(count) + 1;
        $("#cartCount").html(count);
        Swal.fire({
          title: "Product added to cart!",
          icon: "success", 
          confirmButtonText: "continue",
        }).then(function () {
          location.reload();
        });
      }if (response.productExist) {
                        Swal.fire({
                            title: "Product exist in cart!",
                            icon: "error",
                            confirmButtonText: "continue",
                        }).then(function () {
                            location.reload()
                        });
                    }
                }
            })
        }
    </script>

<script>
  function removewishlistProduct(wishlistId, productId) {
      $.ajax({
        url: "/removewishlistProduct",
        data: {
          wishlist: wishlistId,
          product: productId,
        },
        method: "post",
        success: () => {
          location.reload();
        },
      });
    }

    </script>

    <%- include('../partials/user_footer.ejs') %>